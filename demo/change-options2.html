<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
  <style></style>
</head>

<body>
  <br /><br /><br /><br /><br /><br />
  <button id="add">Add Bar</button> - <button id="reset">Reset Bars</button></p>

  <div id="container">
    <div id="race" class="race">Loading...</div>
  </div>

  <script type="module">
    import { race } from '../build/racing-bars.js';
    let topN = 5;
    const options = {
      dataType: 'csv',
      title: 'Number of Bars: ' + topN,
      topN,
    };

    const racer = await race('../data/population.csv', '#race', options);

    function addBar() {
      topN += 1;
      racer.changeOptions({
        title: 'Number of Bars: ' + topN,
        topN,
      });
    }

    function resetBars(e) {
      topN = 5;
      racer.changeOptions({
        title: 'Number of Bars: ' + topN,
        topN,
      });
    }

    document.getElementById('add').addEventListener('click', addBar);
    document.getElementById('reset').addEventListener('click', resetBars);

  </script>
</body>
