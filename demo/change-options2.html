<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
  <style></style>
</head>

<body>
  <br /><br /><br /><br /><br /><br />
  <button onClick="addBar()">Add Bar</button> - <button onClick="resetBars()">Reset Bars</button></p>

  <div id="container">
    <div id="race" class="race">Loading...</div>
  </div>

  <script src="scripts/d3.min.js"></script>
  <script src="scripts/racing-bars.umd.js"></script>
  <script>
    let topN = 5;
    const options = {
      selector: '#race',
      title: 'Number of Bars: ' + topN,
      topN,
    };

    let racer;
    racingBars.loadData('../data/population.csv', 'csv').then((data) => {
      racer = racingBars.race(data, options);
    });

    function addBar() {
      topN += 1;
      racer.changeOptions({
        title: 'Number of Bars: ' + topN,
        topN,
      });
    }

    function resetBars(e) {
      topN = 5;
      racer.changeOptions({
        title: 'Number of Bars: ' + topN,
        topN,
      });
    }

  </script>
</body>
